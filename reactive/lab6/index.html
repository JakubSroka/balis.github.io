<HTML>
<HEAD>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<TITLE>Scala</TITLE>
<link rel="stylesheet" type="text/css" href="../style.css">
</HEAD>
<BODY>
<TABLE WIDTH="80%" HEIGHT="90%" BORDER="0" ALIGN=CENTER>
<TR>
<TD ALIGN=CENTER>
<DIV ALIGN=left>

<hr>
    <H2>Programowanie reaktywne w jezyku Scala</H2>
<hr>

<h3>Skalowanie oraz klastrowanie w Akka</h3>

<ul>
<li>Do skalowania aktorów wykorzystujemy koncepcję routingu dostepnego w <a href="http://doc.akka.io/docs/akka/current/scala/routing.html">
routerach Akka</a>
<li>Pobranie i uruchomienie przykładowego projektu:
<pre>
  git clone https://github.com/kzajac/reactive-lab6
  cd reactive-lab6
  sbt run
  sbt eclipse
</pre>
</ul>
    
<h3>Klastrowanie w Akka</h3>

<ul>
    <li>Dokumentacja — <a href="https://doc.akka.io/docs/akka/2.5/scala/cluster-usage.html">https://doc.akka.io/docs/akka/2.5/scala/cluster-usage.html</a></li>
    <li>Tutorial — <a href="http://michalplachta.com/2016/01/23/scalability-using-sharding-from-akka-cluster/">http://michalplachta.com/2016/01/23/scalability-using-sharding-from-akka-cluster/</a></li>
    <li>Przykład z tutoriala — <a href="https://github.com/miciek/akka-sharding-example/tree/master">https://github.com/miciek/akka-sharding-example/tree/master</a></li>
</ul>


<H3>Zadanie</H3>
<OL>
    <LI>(20 pkt) API RESTowe i skalowanie w systemie aktorowym
    <UL>
        <li>Wyskalować katalog produktów za pomocą mechanizmu <a href="https://doc.akka.io/docs/akka/current/scala/routing.html">routingu</a></li>
        <LI>Stworzyć API (REST) udostępniające przeszukiwanie katalogu zwracające wyniki jako JSON</LI>
        <li>Przeprowadzić testy obciążeniowe API wybranym narzędziem, krótko uzasadnić wybór narzędzia do testów</li>
        <li>Oszacować liczbę użytkowników sklepu jaką możemy obsłużyć. Podać przyjęte założenia. 
        <li>(Dla zaineresowanych). Można skorzystać 
            z <A HREF="https://blogs.msdn.microsoft.com/chwitt/2017/10/04/littles-law-and-how-it-impacts-load-testers/">prawa Little'a</a>,
            żeby obliczyć parametry wydajności (i testów) teoretycznie i porównać je z wynikami eksperymentalnymi</li>. 
    </UL>
    </li>
    <LI>(10 pkt) Akka Cluster
    <ul>
        <li>Skonfigurować Akka Cluster dla 3 węzłów.</li>
        <li>Każdy węzęł powinien udostępiać endpoint RESTowy.</li>
        <li>Skonfigurować load-balancer HTTP (<a href="http://nginx.org/en/docs/http/load_balancing.html">nginx</a> lub <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-haproxy-and-load-balancing-concepts">haproxy</a>)</li>
        <li>Powtórzyć testy</li>
    </ul>
    </li>
    <LI>(10 pkt) <a href="https://doc.akka.io/docs/akka/2.5/distributed-pub-sub.html?language=scala">PubSub</a> w klastrze
    <ul>
        <li>Stworzyć aktora zliczającego liczbę zapytań obsługiwanych przez poszczególne instancje katalogu produktów. Statystyka powinna być dostępna przez REST.</li>
        <li>Stworzyć aktora loguącego na konsolę (loggerem) wszystkie zapytania.</li>
        <li>Katalog produktów wysyła informację o każdym zapytaniu korzystając z mechanizmu publish-subscribe wraz z identyfikatorem instancji katalogu obsługującej żądanie.</li>
        <li>Oba aktory powinny być uruchomione na dedykowanym węźle (nie obsługującym żądań)</li>
    </ul>
    </li>
</OL>
<P>
<P>
<HR>
<I>Bartosz Baliś, balis at agh edu pl</I>
<BR>
<I>Maciej Malawski, malawski at agh edu pl</I>
<BR>
<I>Katarzyna Rycerz, kzajac at agh edu pl</I>
<BR>
<I>Kamil Figiela, kfigiela at agh edu pl</I>
<BR>
<P> <P>
</DIV>
</TR>
</TD>
</TABLE>
</BODY>
</HTML>
