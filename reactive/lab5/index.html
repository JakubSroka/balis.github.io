<HTML>
<HEAD>
<META http-equiv="content-type" content="text/html; charset=utf-8">
<TITLE>Scala</TITLE>
<link rel="stylesheet" type="text/css" href="../style.css">
</HEAD>
<BODY>
<TABLE WIDTH="80%" HEIGHT="90%" BORDER="0" ALIGN=CENTER>
<TR>
<TD ALIGN=CENTER>
<DIV ALIGN=left>

<hr>
    <H2>Programowanie reaktywne w języku Scala</H2>
<hr>

<h3>Obsługa awarii</h3>

<ul>
<li>W celu zapewnienia obsługi awarii używamy wzorca nadzoru aktorów (<I><a href="http://doc.akka.io/docs/akka/current/general/supervision.html">supervision</a></I>)
<li>Przykładowy projekt: <a href="http://typesafe.com/activator/template/akka-supervision">Akka Supervision Tutorial</a> używający aktorów do obliczania wyrażeń arytmetycznych</li>
<li>Pobranie i uruchamianie projektu:
<pre>
  git clone https://github.com/malawski/activator-akka-supervision/
  cd activator-akka-supervision/
  sbt eclipse
</pre>
<li>Proszę sprawdzić zachowanie systemu aktorów przy kilkukrotnym uruchomieniu projektu. Jak obsługiwane są losowe błędy?
<li>Proszę sprawdzić co się stanie, gdy wprowadzimy wyrażenie zawierające dzielenie przez 0.
<li><a href="http://doc.akka.io/docs/akka/current/scala/fault-tolerance.html">Fault tolerance in akka</a></li>
 <li> Wiecej <a href="http://doc.akka.io/docs/akka/current/scala/futures.html">informacji</a> o ask <i>"?"</i> i Futures </li>   
</ul>

<h3>Komunikacja zdalna (remoting)</h3>

<ul>
<li>Aktorzy mogą komunikować się <a href="http://doc.akka.io/docs/akka/current/scala/remoting.html">zdalnie</a> 
(<a href="http://doc.akka.io/docs/akka/current/general/remoting.html#remoting">przeźroczystość lokalizacji</a>).
<li>Pobranie i uruchomienie przykładowego projektu:
<pre>
  git clone https://github.com/malawski/reactive-lab5
  cd reactive-lab5
  sbt eclipse
  sbt run
</pre>
<li>Aby pobrać referencję do zdalnego aktora, możemy użyć <tt>ActorSelection</tt>:
<pre>
  val account = context.actorSelection("akka.tcp://Reactive5@127.0.0.1:2552/user/account")
</pre>
<li><a href="http://doc.akka.io/docs/akka/current/general/configuration.html">Konfiguracja</a> aktorów umożliwia stworzenie kilku systemów aktorów w jednej aplikacji.
<li>Przyklad pliku <a href="https://github.com/malawski/reactive-lab5/blob/master/src/main/resources/application.conf">application.conf</a>.
</ul>



<H3>Zadanie</H3>
<OL>
    <LI>(20 pkt) Proszę rozszerzyć system aukcyjny o mechanizm publikowania informacji o przebiegu aukcji do zewnętrznego systemu <B>Auction Publisher</B> przy użyciu zdalnej komunikacji za pośrednictwem nowego aktora <B>Notifier</B>:
    <UL>
        <LI><B>Auction</B> powiadamia lokalnego aktora <B>Notifier</B> o zmianie stanu aukcji poprzez komunikaty <TT>Notify</TT> zawierające informację o tytule aukcji, aktualnym kupującym i bieżącej cenie.
        <LI><B>Notifier</B> obsługuje komunikaty <TT>Notify</TT> i jest klientem przekazującym informacje do zewnętrznego serwera <B>Auction Publisher</B>.
        <LI>Serwer <B>Auction Publisher</B> przyjmuje powiadomienia poprzez komunikaty.
    </UL>
    <P>
    <LI>(20 pkt) Proszę rozszerzyć aktora <B>Notifier</B> o mechanizmy <I>fault-tolerance</I>, tak aby działał poprawnie w wypadku awarii zewnętrznego serwera lub awarii sieci. Awarie te nie powinny zakłócać pracy systemu aukcyjnego. Wskazówka: dla każdego powiadomienia należy stworzyć nowego aktora <B>NotifierRequest</B> nadzorowanego przez aktora <B>Notifier</B>.
</OL>
<!--
<H3>Bibliografia</H3>
<OL>
</OL>
!-->
<P>
<P>
<HR>
<I>Bartosz Baliś, balis at agh edu pl</I>
<BR>
<I>Maciej Malawski, malawski at agh edu pl</I>
<BR>
<I>Katarzyna Rycerz, kzajac at agh edu pl</I>
<BR>
<P> <P>
</DIV>
</TR>
</TD>
</TABLE>
</BODY>
</HTML>
